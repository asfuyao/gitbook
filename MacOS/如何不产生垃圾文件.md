# 问题

macOS 在访问 Windows 共享（SMB）或外置磁盘时会自动产生 `.DS_Store` 文件（存储文件夹视图设置）和 `._*` 文件（Apple Double 格式，存储资源分支），这在 Windows 用户看来都是"垃圾文件"。

# 解决方案

## 1. 禁用网络驱动器上的 .DS_Store 创建

这是 Apple 官方支持的方法，可阻止 Finder 在网络共享（SMB/AFP/NFS）上创建 `.DS_Store`：

```bash
defaults write com.apple.desktopservices DSDontWriteNetworkStores -bool true
```

**重启 Finder 生效：**

```bash
killall Finder
```

验证设置：

```bash
defaults read com.apple.desktopservices DSDontWriteNetworkStores
# 应返回 1
```

## 2. 禁用 USB/外置磁盘上的 .DS_Store

```bash
defaults write com.apple.desktopservices DSDontWriteUSBStores -bool true
killall Finder
```

